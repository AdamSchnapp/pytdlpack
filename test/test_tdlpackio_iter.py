#!/usr/bin/env python

import TdlpackIO
import numpy as np
import pytdlpack
import pdb
import os
import sys

# ---------------------------------------------------------------------------------------- 
# Point stdout to null
# ---------------------------------------------------------------------------------------- 
fout = open(os.devnull,'w')
sys.stdout = fout

# ---------------------------------------------------------------------------------------- 
# Open TDLPACK file
# ---------------------------------------------------------------------------------------- 
f = TdlpackIO.open("../../sampledata/hre201701")
f.seek(0)

# ---------------------------------------------------------------------------------------- 
# Iterate over the file.  This is testing TdlpackIO.open.__iter__ and __next__ methods.
# ---------------------------------------------------------------------------------------- 
for rec in f:
    print(f.recordnumber,type(rec),rec.id)

# ---------------------------------------------------------------------------------------- 
# Close files.
# ---------------------------------------------------------------------------------------- 
f.close()
fout.close()
